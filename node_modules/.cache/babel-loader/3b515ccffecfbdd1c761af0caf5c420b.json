{"ast":null,"code":"import _classCallCheck from \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/davidmunozviejo/Desktop/frontend-TEST/client/src/components/Album/Album.js\";\nimport React, { Component } from \"react\";\nimport Service from \"../Service/Service.js\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nvar Album =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Album, _Component);\n\n  function Album(props) {\n    var _this;\n\n    _classCallCheck(this, Album);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Album).call(this, props));\n\n    _this.getAlbums = function () {\n      _this.service.albumsData().then(function (responseFromapi) {\n        return _this.setState({\n          albums: responseFromapi\n        });\n      });\n    };\n\n    _this.searchBarHandler = function (e) {\n      _this.setState({\n        search: e.target.value\n      });\n\n      _this.filter(e.target.value);\n    };\n\n    _this.filter = function (e) {\n      if (e !== \"\") {\n        var updadtedAlbums = _this.state.albums.filter(function (album) {\n          return album.title.indexOf(_this.state.search) !== -1;\n        });\n\n        return _this.setState({\n          albumsFiltered: updadtedAlbums\n        });\n      } else {\n        return _this.setState({\n          albumsFiltered: _this.state.albums\n        });\n      }\n    };\n\n    _this.state = {\n      albums: null,\n      search: \"\"\n    };\n    _this.albumsFiltered = _this.state.albums;\n    _this.service = new Service();\n    return _this;\n  }\n\n  _createClass(Album, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAlbums();\n      this.setState({\n        albumsFiltered: this.state.albums\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.albumsFiltered);\n      return this.albumsFiltered ? React.createElement(\"div\", {\n        className: \"albums-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-group-item list-group-item-action active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Albums\"), React.createElement(\"nav\", {\n        className: \"navbar navbar-light bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control mr-sm-2\",\n        type: \"search\",\n        value: this.state.search,\n        onChange: this.searchBarHandler,\n        placeholder: \"Search album ..\",\n        \"aria-label\": \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }))), this.albumsFiltered.map(function (album) {\n        return React.createElement(Link, {\n          to: \"/photos/\".concat(album.id),\n          className: \"list-group-item list-group-item-action\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, album.id, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }), album.title);\n      }))) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n  }]);\n\n  return Album;\n}(Component);\n\nexport { Album as default };","map":{"version":3,"sources":["/Users/davidmunozviejo/Desktop/frontend-TEST/client/src/components/Album/Album.js"],"names":["React","Component","Service","Link","axios","Album","props","getAlbums","service","albumsData","then","responseFromapi","setState","albums","searchBarHandler","e","search","target","value","filter","updadtedAlbums","state","album","title","indexOf","albumsFiltered","console","log","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Service from \"../Service/Service.js\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class Album extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      albums: null,\n      search: \"\",\n   \n    \n    };\n    this.albumsFiltered =  this.state.albums\n    this.service = new Service();\n  }\n\n  getAlbums = ()=>{\n    this.service.\n   albumsData()\n    .then(responseFromapi=>this.setState({ albums:responseFromapi }))\n  }\n  componentDidMount() {\n    this.getAlbums()\n    this.setState({ albumsFiltered: this.state.albums })\n   \n  }\n\n  searchBarHandler = (e) => {\n    \n    this.setState({search: e.target.value})\n    this.filter(e.target.value)\n   \n  }\n\n  filter = (e)=>{\n    if(e !== \"\" ){\n   let updadtedAlbums = this.state.albums.filter(\n        (album)=>{\n          return album.title.indexOf(this.state.search) !== -1;\n        }\n      )\n      return this.setState({albumsFiltered: updadtedAlbums})\n    }\n    else{\n      return this.setState({albumsFiltered: this.state.albums})\n    }\n    \n  }\n\n\n  render() {\n  console.log(this.state.albumsFiltered)\n    return this.albumsFiltered ? (\n  \n      <div className=\"albums-container\">\n        <div className=\"list-group\">\n          <div className=\"list-group-item list-group-item-action active\">       \n            Albums \n          </div>\n          <nav className=\"navbar navbar-light bg-light\">\n            <div className=\"form-inline\">\n              <input className=\"form-control mr-sm-2\" type=\"search\" value={this.state.search} onChange={this.searchBarHandler} placeholder=\"Search album ..\" aria-label=\"Search\"/>\n             \n            </div>\n          </nav>\n          \n        {this.albumsFiltered.map(album => (        \n          <Link to={`/photos/${album.id}`} className=\"list-group-item list-group-item-action\">\n          {album.id}<br></br>{album.title}\n          </Link>   \n\n        ))}\n        </div>  \n      </div>\n    ) : (\n      <p>Loading...</p>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}